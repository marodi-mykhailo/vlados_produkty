(this["webpackJsonpprodukty-app"]=this["webpackJsonpprodukty-app"]||[]).push([[0],{111:function(e,t,n){e.exports={searchWrapper:"ProductsWithDiscount_searchWrapper__1702F"}},148:function(e,t,n){e.exports={wrapper:"AppStatusBox_wrapper__V2pzC",img:"AppStatusBox_img__3DqNG"}},183:function(e,t,n){e.exports={wrapper:"AppStatusText_wrapper__ukbwR",text:"AppStatusText_text__2XF_K"}},221:function(e,t,n){},353:function(e,t,n){},377:function(e,t,n){"use strict";n.r(t);var c=n(8),r=n(0),a=n.n(r),s=n(33),u=n.n(s),i=(n(221),n(109)),o=n(379),d=n(85),l=n(50),j=n(382),p=n(110),b=n(38),O=n(179),x=n(180),h=n(213),f=n(206),m=n(383),g=n(386),v=n(380),y=n(181),w=n.n(y),S=n(384),C=n(46),k=function(e){return{type:"SET_PRODUCTS",products:e}},_=n.p+"static/media/catPreloader.ca6a38d5.gif",T=n(148),D=n.n(T),P=n(183),R=n.n(P),E=n(385),I={width:"25%",margin:"0 auto",textAlign:"center",fontSize:"20px"},U=function(){var e=Object(C.d)((function(e){return e.app.message})),t=Object(C.d)((function(e){return e.app.appStatus}));return Object(c.jsx)("div",{className:R.a.wrapper,children:Object(c.jsx)(E.a,{style:I,message:e,type:function(){switch(t){case"loading":return"info";case"successes":return"success";case"failed":return"error";default:return"info"}}(),showIcon:!0})})},A=n.p+"static/media/slipping cat.9d14bc77.gif",N=function(e){var t=e.type;return Object(c.jsxs)("div",{className:D.a.wrapper,children:[Object(c.jsx)("img",{className:D.a.img,src:"sleep"===t?A:_,alt:"catLoader"}),"sleep"!=t&&Object(c.jsx)(U,{})]})},z=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(O.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={searchText:"",searchedColumn:""},e.getColumnSearchProps=function(t){return{filterDropdown:function(n){var r=n.setSelectedKeys,a=n.selectedKeys,s=n.confirm,u=n.clearFilters;return Object(c.jsxs)("div",{style:{padding:8},children:[Object(c.jsx)(m.a,{ref:function(t){e.searchInput=t},placeholder:"Search ".concat(t),value:a[0],onChange:function(e){return r(e.target.value?[e.target.value]:[])},onPressEnter:function(){return e.handleSearch(a,s,t)},style:{width:188,marginBottom:8,display:"block"}}),Object(c.jsxs)(g.b,{children:[Object(c.jsx)(l.a,{type:"primary",onClick:function(){return e.handleSearch(a,s,t)},icon:Object(c.jsx)(S.a,{}),size:"small",style:{width:90},children:"Search"}),Object(c.jsx)(l.a,{onClick:function(){return e.handleReset(u)},size:"small",style:{width:90},children:"Reset"})]})]})},filterIcon:function(e){return Object(c.jsx)(S.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(e,n){return n[t]?n[t].toString().toLowerCase().includes(e.toLowerCase()):""},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){return e.searchInput.select()}),100)},render:function(n){return e.state.searchedColumn===t?Object(c.jsx)(w.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[e.state.searchText],autoEscape:!0,textToHighlight:n?n.toString():""}):n}}},e.handleSearch=function(t,n,c){n(),e.setState({searchText:t[0],searchedColumn:c})},e.handleReset=function(t){t(),e.setState({searchText:""})},e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=[Object(b.a)({title:"Nazwa",dataIndex:"nazwa",key:"nazwa",width:"30%"},this.getColumnSearchProps("nazwa")),Object(b.a)({title:"Typ",dataIndex:"typ",key:"typ",width:"20%"},this.getColumnSearchProps("typ")),Object(b.a)({title:"Stawka",dataIndex:"stawka",key:"stawka"},this.getColumnSearchProps("stawka")),Object(b.a)({title:"Cena netto",dataIndex:"cena_netto",key:"cena_netto"},this.getColumnSearchProps("cena_netto")),{title:"Functions",dataIndex:"functions",key:"functions",render:function(e,t){return Object(c.jsx)("div",{})}}];return this.props.data.length>1?Object(c.jsx)(v.a,{columns:e,dataSource:Object(p.a)(this.props.data)}):Object(c.jsx)("div",{children:Object(c.jsx)(N,{type:"sleep"})})}}]),n}(a.a.Component),F=Object(C.b)((function(e){return{data:e.products}}),{})(z),q=n(107),L=n(39),W=n(111),B=n.n(W),V={appStatus:"idle",message:"",formStatus:""},H=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"idle";return{type:"SET_APP_STATUS",status:e,formStatus:n,message:t}},K=m.a.Search,M=function(){var e=Object(C.d)((function(e){return e.app.appStatus})),t=Object(C.c)();Object(r.useEffect)((function(){t(k([])),t(H("idle",""))}),[]);var n=function(e){t({type:"LOAD_PRODUCTS_WITH_DISCOUNT",nip:e})};return"loading"===e?Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:B.a.searchWrapper,children:Object(c.jsx)(K,{placeholder:"input search text",className:B.a.search,onSearch:n,enterButton:"Search",size:"large"})}),Object(c.jsx)(N,{})]}):Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:B.a.searchWrapper,children:Object(c.jsx)(K,{placeholder:"input search text",className:B.a.search,onSearch:n,enterButton:"Search",size:"large"})}),Object(c.jsx)(F,{}),"idle"!=e&&Object(c.jsx)(U,{})]})},J=function(){var e=Object(C.c)(),t=Object(C.d)((function(e){return e.app.appStatus}));return Object(r.useEffect)((function(){e(H("idle","")),e({type:"LOAD_PRODUCTS"})}),[]),"loading"===t?Object(c.jsx)(N,{}):Object(c.jsxs)("div",{children:[Object(c.jsx)(F,{}),"idle"!=t&&Object(c.jsx)(U,{})]})},G=(n(353),n(202)),X=n.n(G),Q=n(145),Y=n.n(Q),Z=n(108),$=n(381),ee=n(201),te=n.n(ee),ne=Z.a.Option,ce={labelCol:{span:8},wrapperCol:{span:16}},re={wrapperCol:{offset:8,span:16}},ae=function(e){var t=$.a.useForm(),n=Object(i.a)(t,1)[0],r=Object(C.c)(),a=Object(C.d)((function(e){return e.app.formStatus})),s=Object(C.d)((function(e){return e.app.appStatus}));"successes"===a&&e.setIsModalVisible(!1);return Object(c.jsxs)($.a,Object(b.a)(Object(b.a)({},ce),{},{form:n,name:"control-hooks",onFinish:function(e){var t={typ:e.Typ,nazwa:e.Nazwa,cena_netto:e["Cena Netto"],vatId:e.Vat};r(function(e){return{type:"CREATE_PRODUCT",productData:e}}(t)),n.resetFields()},children:[Object(c.jsx)($.a.Item,{name:"Typ",rules:[{required:!0}],children:Object(c.jsx)(m.a,{placeholder:"Typ"})}),Object(c.jsx)($.a.Item,{name:"Nazwa",rules:[{required:!0}],children:Object(c.jsx)(m.a,{placeholder:"Nazwa"})}),Object(c.jsx)($.a.Item,{name:"Cena Netto",rules:[{required:!0}],children:Object(c.jsx)(m.a,{type:"number",placeholder:"Cenna Netto"})}),Object(c.jsx)($.a.Item,{name:"Vat",rules:[{required:!0}],children:Object(c.jsxs)(Z.a,{placeholder:"Vat, %",allowClear:!0,children:[Object(c.jsx)(ne,{value:"1",children:"8"}),Object(c.jsx)(ne,{value:"2",children:"23"})]})}),Object(c.jsxs)($.a.Item,Object(b.a)(Object(b.a)({},re),{},{children:[Object(c.jsx)(l.a,{type:"primary",htmlType:"submit",icon:"loading"===s&&Object(c.jsx)(te.a,{spin:!0}),children:"Submit"}),Object(c.jsx)(l.a,{htmlType:"button",onClick:function(){n.resetFields()},children:"Reset"})]}))]}))},se=o.a.Header,ue=o.a.Content,ie=o.a.Footer,oe=o.a.Sider,de=function(){Object(C.c)();Object(r.useEffect)((function(){}),[]);var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(!1),u=Object(i.a)(s,2),p=u[0],b=u[1],O=function(e){localStorage.setItem("currentPage",e)};return Object(c.jsxs)(o.a,{style:{minHeight:"100vh"},children:[Object(c.jsxs)(oe,{collapsible:!0,collapsed:n,onCollapse:function(e){console.log(e),a(!!e)},children:[Object(c.jsx)("div",{className:"logo",children:Object(c.jsx)("h1",{className:"logo___text",children:"Produkty & Us\u0142ugi"})}),Object(c.jsxs)(d.a,{theme:"dark",defaultSelectedKeys:localStorage.getItem("currentPage"),mode:"inline",children:[Object(c.jsx)(d.a.Item,{onClick:function(){return O("1")},icon:Object(c.jsx)(X.a,{}),children:Object(c.jsx)(q.b,{to:"/produkty",children:"Produkty"})},"1"),Object(c.jsx)(d.a.Item,{onClick:function(){return O("2")},icon:Object(c.jsx)(Y.a,{}),children:Object(c.jsx)(q.b,{to:"/produkty-with-discount",children:"Find"})},"2")]})]}),Object(c.jsxs)(o.a,{className:"site-layout",children:[Object(c.jsx)(se,{className:"site-layout-background",style:{padding:0},children:Object(c.jsxs)("div",{className:"create__btn__box",children:[Object(c.jsx)(l.a,{className:"create__btn",onClick:function(){b(!0)},type:"primary",size:"large",children:"Create Product"}),Object(c.jsx)(j.a,{title:"Create Product",visible:p,onCancel:function(){b(!1)},footer:[],children:Object(c.jsx)(ae,{setIsModalVisible:b})})]})}),Object(c.jsx)(ue,{style:{margin:"0 16px"},children:Object(c.jsxs)(L.c,{children:[Object(c.jsx)(L.a,{exact:!0,path:"/produkty",render:function(){return Object(c.jsx)(J,{})}}),Object(c.jsx)(L.a,{exact:!0,path:"/produkty-with-discount",render:function(){return Object(c.jsx)(M,{})}})]})}),Object(c.jsx)(ie,{style:{textAlign:"center"},children:"Wlados Design \xa92021 Created by W\u0142adys\u0142aw Kurczenko"})]})]})},le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,387)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))},je=(n(359),n(76)),pe=n(209),be=n(35),Oe=n.n(be),xe=n(11),he=n(203),fe=n.n(he).a.create(Object(b.a)({baseURL:"http://produkty-uslugi.herokuapp.com/"},{})),me=function(){return fe.get("products")},ge=function(e){return fe.get("products-with-discount/".concat(e))},ve=function(e){return fe.delete("products/".concat(e))},ye=function(e){return fe.post("products",e)},we=function(e,t){return fe.put("products/".concat(e),t)},Se=Oe.a.mark(ke),Ce=Oe.a.mark(_e);function ke(){var e;return Oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(xe.d)(H("loading","Request is loading"));case 2:return t.prev=2,t.next=5,Object(xe.b)(me);case 5:return e=t.sent,t.next=8,Object(xe.d)(k(e.data));case 8:return t.next=10,Object(xe.d)(H("successes","Request is successes"));case 10:return t.next=12,Object(xe.c)(3e3);case 12:return t.next=14,Object(xe.d)(H("idle",""));case 14:t.next=24;break;case 16:return t.prev=16,t.t0=t.catch(2),t.next=20,Object(xe.d)(H("failed",t.t0.message));case 20:return t.next=22,Object(xe.c)(3e3);case 22:return t.next=24,Object(xe.d)(H("idle",""));case 24:case"end":return t.stop()}}),Se,null,[[2,16]])}function _e(){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xe.e)("LOAD_PRODUCTS",ke);case 2:case"end":return e.stop()}}),Ce)}var Te=Oe.a.mark(Pe),De=Oe.a.mark(Re);function Pe(e){var t;return Oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(xe.d)(H("loading","Request is loading"));case 2:return n.prev=2,n.next=5,Object(xe.b)(ge,e.nip);case 5:return t=n.sent,n.next=8,Object(xe.d)(k(t.data.data));case 8:return n.next=10,Object(xe.d)(H("successes","Request is successes"));case 10:return n.next=12,Object(xe.c)(3e3);case 12:return n.next=14,Object(xe.d)(H("idle",""));case 14:n.next=24;break;case 16:return n.prev=16,n.t0=n.catch(2),n.next=20,Object(xe.d)(H("failed",n.t0.message));case 20:return n.next=22,Object(xe.c)(3e3);case 22:return n.next=24,Object(xe.d)(H("idle",""));case 24:case"end":return n.stop()}}),Te,null,[[2,16]])}function Re(){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xe.e)("LOAD_PRODUCTS_WITH_DISCOUNT",Pe);case 2:case"end":return e.stop()}}),De)}var Ee=Oe.a.mark(Ue),Ie=Oe.a.mark(Ae);function Ue(e){var t;return Oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(xe.d)(H("loading","Request is loading"));case 2:return n.prev=2,n.next=5,Object(xe.b)(ye,e.productData);case 5:return t=n.sent,n.next=8,Object(xe.d)({type:"SET_CREATED_PRODUCT",createdProduct:t.data});case 8:return n.next=10,Object(xe.d)(H("successes","Request is successes","successes"));case 10:return n.next=12,Object(xe.c)(3e3);case 12:return n.next=14,Object(xe.d)(H("idle",""));case 14:n.next=24;break;case 16:return n.prev=16,n.t0=n.catch(2),n.next=20,Object(xe.d)(H("failed",n.t0.message,"failed"));case 20:return n.next=22,Object(xe.c)(3e3);case 22:return n.next=24,Object(xe.d)(H("idle",""));case 24:case"end":return n.stop()}}),Ee,null,[[2,16]])}function Ae(){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xe.e)("CREATE_PRODUCT",Ue);case 2:case"end":return e.stop()}}),Ie)}var Ne=Oe.a.mark(Fe),ze=Oe.a.mark(qe);function Fe(e){var t;return Oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(xe.d)(H("loading","Request is loading"));case 2:return n.prev=2,n.next=5,Object(xe.b)(we,e.id,e.productData);case 5:return t=n.sent,n.next=8,Object(xe.d)((c=e.id,r=t.data,{type:"UPDATE_PRODUCT",id:c,productData:r}));case 8:return n.next=10,Object(xe.d)(H("successes","Request is successes"));case 10:return n.next=12,Object(xe.c)(3e3);case 12:return n.next=14,Object(xe.d)(H("idle",""));case 14:n.next=24;break;case 16:return n.prev=16,n.t0=n.catch(2),n.next=20,Object(xe.d)(H("failed",n.t0.message));case 20:return n.next=22,Object(xe.c)(3e3);case 22:return n.next=24,Object(xe.d)(H("idle",""));case 24:case"end":return n.stop()}var c,r}),Ne,null,[[2,16]])}function qe(){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xe.e)("UPDATE_PRODUCT",Fe);case 2:case"end":return e.stop()}}),ze)}var Le=Oe.a.mark(Be),We=Oe.a.mark(Ve);function Be(e){return Oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(xe.d)(H("loading","Request is loading"));case 2:return t.prev=2,t.next=5,Object(xe.b)(ve,e.id);case 5:return t.next=7,Object(xe.d)({type:"DELETE_PRODUCT",id:e.id});case 7:return t.next=9,Object(xe.d)(H("successes","Request is successes"));case 9:return t.next=11,Object(xe.c)(3e3);case 11:return t.next=13,Object(xe.d)(H("idle",""));case 13:t.next=23;break;case 15:return t.prev=15,t.t0=t.catch(2),t.next=19,Object(xe.d)(H("failed",t.t0.message));case 19:return t.next=21,Object(xe.c)(3e3);case 21:return t.next=23,Object(xe.d)(H("idle",""));case 23:case"end":return t.stop()}}),Le,null,[[2,15]])}function Ve(){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xe.e)("UPDATE_PRODUCT",Be);case 2:case"end":return e.stop()}}),We)}var He=Oe.a.mark(Ke);function Ke(){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xe.a)([_e(),Re(),Ae(),qe(),Ve()]);case 2:case"end":return e.stop()}}),He)}var Me=Object(pe.a)(),Je=Object(je.c)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRODUCTS":return Object(p.a)(t.products.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{key:e.produkt_id})})));case"SET_CREATED_PRODUCT":return[].concat(Object(p.a)(e),[Object(b.a)(Object(b.a)({},t.createdProduct),{},{key:t.createdProduct.id})]);case"UPDATE_PRODUCT":return e.map((function(e){return e.produkt_id===t.id?Object(b.a)(Object(b.a)({},t.productData),{},{key:t.productData.produkt_id}):e}));case"DELETE_PRODUCT":return e.filter((function(e){return e.produkt_id!=t.id}));default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_APP_STATUS":return Object(b.a)(Object(b.a)({},e),{},{appStatus:t.status,message:t.message,formStatus:t.formStatus});default:return e}}}),Ge=Object(je.e)(Je,Object(je.a)(Me));Me.run(Ke),window.store=Ge,u.a.render(Object(c.jsx)(C.a,{store:Ge,children:Object(c.jsx)(q.a,{children:Object(c.jsx)(de,{})})}),document.getElementById("root")),le()}},[[377,1,2]]]);
//# sourceMappingURL=main.d103d234.chunk.js.map